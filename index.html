<!DOCTYPE HTML>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="style.css">
  <title>Happy Birthday</title>
 </head>
 <body>
    <div class='dot' id= "happy"><p>Happy</p></div>
    <div class='dot' id="birthday" style="right:0px"><p>Birthday!</p></div>
    <div class="text" id="text1" style="bottom:0px"></div>
    <div class="text" id="text2" style="bottom:0px"></div>
    <script>
        const text1part = 
        "Поздравляю тебя с днем рождения, любимая мамочка! Желаем тебе поменьше уставать, побольше радости в жизни, здоровья, счастья и подарков! А ещё меньше волноваться, так как нервы не востанавливаются) <br>";
        const text2part = 
        "От Алисы, Эрика и Дашки)";
        let start = Date.now(); // запомнить время начала
        var happy = document.getElementById("happy");
        var birthday = document.getElementById("birthday");
        var div1 = document.getElementById("text1");
        var div2 = document.getElementById("text2");
        const bottom1 = 3;
        const bottom2 = 4;
        let timer = setInterval(function() {
            // сколько времени прошло с начала анимации?
            let timePassed = Date.now() - start;
            
            if (timePassed >= 2000) {
                clearInterval(timer); // закончить анимацию через 2 секунды
                animateText(text1part,div1,bottom1);
                animateText(text2part,div2, bottom2);
                return;
            }
            drawHappy(timePassed);
            drawBirthday(timePassed);
            }, 20);

        function drawHappy(timePassed) {
            happy.style.left = timePassed / 2.3 + 'px';
        }
        function drawBirthday(timePassed) {
            birthday.style.right = timePassed/3 + 'px';
        }
        function drawText(passedTime,text,div, format) {
            div.innerHTML = text;
            div.style.bottom = passedTime/format + 'px';
        }
        function animateText(text,div, format) {
            var startTime = Date.now();
            let timer = setInterval(function() {
                let passedTime = Date.now() - startTime;
                if (passedTime >=2000) {
                    clearInterval(timer);
                    return;
                }
                drawText(passedTime,text,div, format);
            })
        }
    </script>
 </body>
</html>
